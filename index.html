<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Biblioteca — Leia com prazer</title>
		<meta name="description" content="Sua biblioteca pessoal: pesquise, filtre e leia obras em uma experiência suave, acessível e sem distrações." />
		<meta name="color-scheme" content="light dark" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="Biblioteca — Catálogo" />
		<meta property="og:description" content="Explore livros e apostilas e leia online com conforto." />
		<meta property="og:locale" content="pt_BR" />
		<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs/%3E%3Ccircle cx='32' cy='32' r='30' fill='%23b10e3c'/%3E%3Cpath d='M18 18h20a8 8 0 0 1 8 8v20H26a8 8 0 0 1-8-8z' fill='%23fff' opacity='.75'/%3E%3C/svg%3E" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Newsreader:opsz,wght@6..72,600;6..72,700&display=swap" rel="stylesheet" />
		<style>
			:root {
				--bg: #faf9f7; --fg: #161514; --muted: #5d5852; --card:#ffffff; --border:#ece7e1;
				--accent:#b10e3c; --accent-2:#cf5f8d; --shadow:0 10px 28px rgba(22,21,20,.08);
				--heading-font:'Newsreader', Georgia, 'Times New Roman', serif; --content-font:'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif;
				--size:16px; --lh:1.75; --radius:14px; --header-h:64px;
				--paper: radial-gradient(1000px 500px at 50% -10%, rgba(177,14,60,.06), transparent 60%),
								 radial-gradient(800px 300px at 90% 0%, rgba(24,21,20,.05), transparent 60%);
			}
			[data-theme="dark"] { --bg:#0f0f11; --fg:#f4f2f7; --muted:#b8b0c0; --card:#15141a; --border:#2a2630; --shadow:0 10px 28px rgba(0,0,0,.4); --accent:#e23a6a; --accent-2:#a14a73; --paper: radial-gradient(1000px 500px at 50% -10%, rgba(226,58,106,.08), transparent 60%), radial-gradient(800px 300px at 90% 0%, rgba(0,0,0,.35), transparent 60%); }
			[data-theme="sepia"] { --bg:#f6efe5; --fg:#2a201a; --muted:#6b574b; --card:#fdf8f1; --border:#eadfce; --shadow:0 10px 28px rgba(52,40,30,.12); --accent:#9f2f41; --accent-2:#b86a74; --paper: radial-gradient(1000px 500px at 50% -10%, rgba(159,47,65,.06), transparent 60%), radial-gradient(800px 300px at 90% 0%, rgba(52,40,30,.08), transparent 60%); }

			*, *::before, *::after { box-sizing: border-box; }
			html, body { height: 100%; overflow-x: hidden; }
			body { margin: 0; background: var(--bg); background-image: var(--paper); color: var(--fg); font: 400 var(--size)/var(--lh) var(--content-font); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

			.topbar { position: sticky; top: 0; z-index: 20; height: var(--header-h); display:flex; align-items:center; justify-content: space-between; padding: 0 16px; background: linear-gradient(180deg, rgba(0,0,0,.06), transparent), var(--card); border-bottom:1px solid var(--border); backdrop-filter: saturate(120%) blur(6px); }
			.brand { display:flex; align-items:baseline; gap:10px; }
			.brand h1 { margin:0; font:700 18px var(--heading-font); letter-spacing:.2px; }
			.brand small { color: var(--muted); letter-spacing:.35px; text-transform: uppercase; font-size: 12px; }
			.controls { display:flex; gap:8px; align-items:center; }
			.btn { border:1px solid var(--border); background:var(--card); color:var(--fg); padding:8px 12px; border-radius:10px; cursor:pointer; font:600 13px var(--content-font); }
			.btn:hover { border-color: var(--accent-2); }
			.btn:focus-visible { outline:2px solid var(--accent); outline-offset:2px; }

			main { display:block; }
			.hero { padding: 44px 16px 24px; display:flex; justify-content:center; }
			.wrap { width: 100%; max-width: 1200px; padding: 0 8px; }
			.hero .panel { background: linear-gradient(140deg, rgba(177,14,60,.06), rgba(177,14,60,0) 50%), var(--card); border:1px solid var(--border); border-radius: calc(var(--radius) + 4px); box-shadow: var(--shadow); padding: 28px 24px; display:flex; align-items:center; gap: 18px; }
			.hero .text { flex: 1 1 auto; }
			.hero h2 { margin: 0 0 6px; font: 700 30px/1.25 var(--heading-font); letter-spacing: .2px; }
			.hero p { margin: 0; color: var(--muted); }

			.toolbar { margin: 18px 0 8px; display:flex; flex-wrap: wrap; gap: 10px; align-items:center; }
			.search { flex: 1 1 320px; }
			.search input { width: 100%; padding: 12px 14px; border-radius: 12px; border:1px solid var(--border); background: var(--card); color: var(--fg); }
			.chips { display:flex; gap:8px; align-items:center; }
			.chip { padding:8px 10px; border:1px solid var(--border); background: var(--card); color: var(--muted); border-radius: 999px; font: 600 12px var(--content-font); cursor: pointer; }
			.chip[aria-pressed="true"] { color: var(--accent); border-color: var(--accent-2); background: color-mix(in oklab, var(--card) 85%, var(--accent-2)); }
			.stat { margin-left: auto; color: var(--muted); font-size: 12px; }

			.catalog { padding: 6px 16px 40px; display:flex; justify-content:center; }
			.grid { width: 100%; max-width: 1200px; padding: 0 8px; display:grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 24px; }
			.card { position: relative; border:1px solid var(--border); background: var(--card); border-radius: var(--radius); box-shadow: var(--shadow); overflow: hidden; display:flex; flex-direction: column; transition: transform .2s ease, box-shadow .2s ease; }
			.card:hover { transform: translateY(-4px); box-shadow: 0 16px 42px rgba(0,0,0,.14); }
			.cover { position: relative; height: 240px; overflow: hidden; background: linear-gradient(135deg, var(--accent) 0%, var(--accent-2) 100%); }
			.cover img { width: 100%; height: 100%; object-fit: cover; object-position: center; display: block; }
			.cover-overlay { position: absolute; inset: 0; background: linear-gradient(0deg, rgba(0,0,0,.3) 0%, transparent 50%); opacity: 0; transition: opacity .2s ease; }
			.card:hover .cover-overlay { opacity: 1; }
			.body { padding: 18px 18px 20px; display:flex; flex-direction: column; gap: 10px; flex: 1; }
			.tag-row { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 4px; }
			.tag { display: inline-block; padding: 4px 10px; background: color-mix(in oklab, var(--card) 90%, var(--accent)); color: var(--accent); border: 1px solid color-mix(in oklab, var(--border) 80%, var(--accent)); border-radius: 6px; font: 600 11px var(--content-font); text-transform: uppercase; letter-spacing: .3px; }
			.title { margin: 0; font: 700 20px/1.3 var(--heading-font); letter-spacing:.2px; color: var(--fg); }
			.meta { color: var(--muted); font-size: 13px; font-weight: 500; }
			.desc { margin: 0; color: var(--muted); font-size: 14px; line-height: 1.6; flex: 1; }
			.actions { display:flex; gap: 10px; margin-top: auto; padding-top: 12px; }
			.link { display:inline-flex; align-items: center; justify-content: center; padding: 10px 16px; border: 1px solid var(--accent); background: var(--accent); color: #fff; border-radius: 10px; text-decoration: none; font: 600 14px var(--content-font); transition: all .15s ease; }
			.link:hover { background: var(--accent-2); border-color: var(--accent-2); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(177,14,60,.25); }
			.empty { grid-column: 1 / -1; text-align: center; color: var(--muted); padding: 28px 12px; border:1px dashed var(--border); border-radius: var(--radius); background: color-mix(in oklab, var(--card) 90%, transparent); }

			footer { padding: 12px 16px 24px; text-align:center; color: var(--muted); font-size: 12px; }
			@media (max-width: 768px) { .grid { grid-template-columns: 1fr; gap: 20px; } .cover { height: 200px; } }
			@media (max-width: 640px) { .hero .panel { padding: 18px 16px; } .hero h2 { font-size: 24px; } .stat { flex: 1 0 100%; order: 3; text-align: right; } .tag-row { gap: 4px; } .tag { font-size: 10px; padding: 3px 8px; } }
			@media (prefers-reduced-motion: reduce) { .card, .link, .cover-overlay { transition: none; } }
		</style>
	</head>
	<body>
		<a href="#catalogo" class="sr-only" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;">Pular para o catálogo</a>
		<header class="topbar">
			<div class="brand">
				<h1>Biblioteca</h1>
				<small>Catálogo de obras</small>
			</div>
		</header>

		<section class="hero">
			<div class="wrap">
				<div class="panel" role="region" aria-label="Apresentação">
					<div class="text">
						<h2>Sua biblioteca, sem distrações</h2>
						<p>Pesquise, filtre e leia com conforto — claro, escuro ou sépia.</p>
					</div>
				</div>

				<div class="toolbar" aria-label="Ferramentas do catálogo">
					<div class="search">
						<input id="q" type="search" placeholder="Buscar por título, tipo ou tema (/)" aria-label="Buscar" />
					</div>
					<div class="chips" role="group" aria-label="Filtro por tipo">
						<button class="chip" data-filter="all" aria-pressed="true">Todos</button>
						<button class="chip" data-filter="apostila" aria-pressed="false">Apostilas</button>
						<button class="chip" data-filter="livro" aria-pressed="false">Livros</button>
					</div>
					<div id="stat" class="stat" aria-live="polite"></div>
				</div>
			</div>
		</section>

		<section id="catalogo" class="catalog" aria-label="Catálogo">
			<div class="grid" id="grid">
				<article class="card" data-title="vivência pombogira" data-type="apostila" data-tags="umbanda pombogira emocional interior verdade amor próprio">
					<div class="cover">
						<img src="Source/img/vivencia_pombogira.jpg" alt="Capa - Vivência Pombogira" loading="lazy" />
						<div class="cover-overlay"></div>
					</div>
					<div class="body">
						<div class="tag-row">
							<span class="tag">Umbanda</span>
							<span class="tag">Pombogira</span>
							<span class="tag">Emocional</span>
						</div>
						<h3 class="title">Os Mistérios de Pombogira</h3>
						<div class="meta">Apostila completa · Interior, Emoção e Evolução</div>
						<p class="desc">Uma obra profunda sobre verdade emocional, libertação interna e cura afetiva através do Mistério de Pombogira na Umbanda Sagrada.</p>
						<div class="actions">
							<a class="link" href="livros/vivencia_pombogira.html">Ler conteúdo →</a>
						</div>
					</div>
				</article>
				<article class="card" data-title="guia de ervas" data-type="apostila" data-tags="ervas umbanda guia limpeza harmonização natureza">
					<div class="cover">
						<img src="Source/img/guia_ervas.png" alt="Capa - Guia de Ervas" loading="lazy" />
						<div class="cover-overlay"></div>
					</div>
					<div class="body">
						<div class="tag-row">
							<span class="tag">Umbanda</span>
							<span class="tag">Ervas</span>
							<span class="tag">Natureza</span>
						</div>
						<h3 class="title">Guia Completo de Ervas</h3>
						<div class="meta">Apostila prática · Usos e Correspondências</div>
						<p class="desc">Guia detalhado sobre usos, limpezas e correspondências vibracionais das ervas na prática da Umbanda, com informações precisas e aplicáveis.</p>
						<div class="actions">
							<a class="link" href="livros/guia_de_ervas.html">Ler conteúdo →</a>
						</div>
					</div>
				</article>
				<article class="card" data-title="aula iansã" data-type="apostila" data-tags="umbanda iansã lei movimento direção">
					<div class="cover" style="background: linear-gradient(135deg, #c77a00 0%, #e8b45a 100%);">
						<img src="Source/img/Iansa.png" alt="Capa - Aula Iansã" loading="lazy" onerror="this.style.display='none'" />
						<div class="cover-overlay"></div>
					</div>
					<div class="body">
						<div class="tag-row">
							<span class="tag">Umbanda</span>
							<span class="tag">Iansã</span>
							<span class="tag">Lei</span>
						</div>
						<h3 class="title">Iansã: A Mãe da Lei</h3>
						<div class="meta">Apostila completa · Lei, Movimento e Direção</div>
						<p class="desc">Fundamentos teológicos, ritualística e práticas de Iansã na Umbanda Sagrada. Um guia para o movimento e a ordem interior.</p>
						<div class="actions">
							<a class="link" href="livros/aula_iansa.html">Ler conteúdo →</a>
						</div>
					</div>
				</article>
				<article class="card" data-title="aula obá" data-type="apostila" data-tags="umbanda obá conhecimento concentração mediunidade terra">
					<div class="cover" style="background: linear-gradient(135deg, #6b4423 0%, #8b5a3c 100%);">
						<img src="Source/img/Capa_Oba.png" alt="Capa - Aula Obá" loading="lazy" onerror="this.style.display='none'" />
						<div class="cover-overlay"></div>
					</div>
					<div class="body">
						<div class="tag-row">
							<span class="tag">Umbanda</span>
							<span class="tag">Obá</span>
							<span class="tag">Conhecimento</span>
						</div>
						<h3 class="title">Obá: Concentração e Sabedoria</h3>
						<div class="meta">Apostila completa · Conhecimento, Terra Fértil e Foco</div>
						<p class="desc">A Senhora da Concentração, desenvolvimento mediúnico e transformação através da terra fértil. Fundamentos teológicos e práticas para firmeza espiritual.</p>
						<div class="actions">
							<a class="link" href="livros/aula_oba.html">Ler conteúdo →</a>
						</div>
					</div>
				</article>
				<div id="empty" class="empty" style="display:none">Nenhum resultado. Experimente limpar os filtros.</div>
			</div>
		</section>

		<footer>© Biblioteca pessoal — leitura livre e responsável</footer>

		<script>
			// Theme cycle and shortcut (t)
			const savedTheme = localStorage.getItem('book-theme');
			if (savedTheme === 'dark' || savedTheme === 'sepia') document.documentElement.setAttribute('data-theme', savedTheme);
			const themeBtn = document.getElementById('themeBtn');
			const cycleTheme = () => {
				const current = document.documentElement.getAttribute('data-theme') || 'light';
				const next = current === 'light' ? 'dark' : current === 'dark' ? 'sepia' : 'light';
				if (next === 'light') document.documentElement.removeAttribute('data-theme'); else document.documentElement.setAttribute('data-theme', next);
				localStorage.setItem('book-theme', next);
			};
			themeBtn.addEventListener('click', cycleTheme);

			// Search, filters, stats, and persistence
			const q = document.getElementById('q');
			const grid = document.getElementById('grid');
			const empty = document.getElementById('empty');
			const stat = document.getElementById('stat');
			const chips = Array.from(document.querySelectorAll('.chip'));
			const cards = () => Array.from(grid.querySelectorAll('.card'));

			const applyState = () => {
				const term = (q.value || '').trim().toLowerCase();
				const selected = chips.find(c => c.getAttribute('aria-pressed') === 'true')?.dataset.filter || 'all';
				let visible = 0;
				cards().forEach(card => {
					const hay = (card.dataset.title + ' ' + (card.dataset.type||'') + ' ' + (card.dataset.tags||'')).toLowerCase();
					const typeOk = (selected === 'all') || card.dataset.type === selected;
					const match = (!term || hay.includes(term)) && typeOk;
					card.style.display = match ? '' : 'none';
					if (match) visible++;
				});
				empty.style.display = visible === 0 ? '' : 'none';
				stat.textContent = visible === 1 ? '1 resultado' : visible + ' resultados';
				localStorage.setItem('lib.query', q.value);
				localStorage.setItem('lib.filter', selected);
			};

			// Wire search
			q.addEventListener('input', applyState);

			// Wire chips
			chips.forEach(chip => chip.addEventListener('click', () => {
				chips.forEach(c => c.setAttribute('aria-pressed', String(c === chip)));
				applyState();
			}));

			// Keyboard shortcuts: / focus search, Esc clears, t toggles theme
			window.addEventListener('keydown', (e) => {
				if (e.key === '/' && document.activeElement !== q) { e.preventDefault(); q.focus(); }
				if (e.key === 'Escape') { if (q.value) { q.value = ''; applyState(); } }
				if (e.key.toLowerCase() === 't' && !e.metaKey && !e.ctrlKey && !e.altKey) { e.preventDefault(); cycleTheme(); }
			});

			// Restore persisted UI
			(function init() {
				const savedQ = localStorage.getItem('lib.query');
				const savedF = localStorage.getItem('lib.filter');
				if (savedQ) q.value = savedQ;
				if (savedF) {
					const btn = chips.find(c => c.dataset.filter === savedF);
					if (btn) chips.forEach(c => c.setAttribute('aria-pressed', String(c === btn)));
				}
				applyState();
			})();
		</script>
		<noscript>Ative o JavaScript para usar busca e filtros.</noscript>
	</body>
</html>
